import { signalRConnector } from '../connectors.js'
import { logger } from 'defra-logging-facade'

describe('The Azure blob storage connector', () => {
  it('should connect to a SignalR instance', async () => {
    const connection = await signalRConnector.createConnection(logger, `${process.env.SIGNALR_URL}?userId=test-user`)
    try {
      await connection.start()
      expect(connection._connectionStarted).toBe(true)
    } finally {
      await connection.stop()
    }
  })
})
