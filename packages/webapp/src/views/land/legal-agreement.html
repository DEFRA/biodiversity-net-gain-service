{% extends 'form-layout.html' %}
{% if err %}
  {% set isError = true %}
{% else %}
  {% set isError = false %}
{% endif %}
{% set pageHeading = "Do you have a legal agreement securing your biodiversity gain site?" %}

{% block formContent %}
  <div class="govuk-body">
    {% if err %}
      {% include "errorbanner.html" %}
    {% endif %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        {{ govukRadios({
          idPrefix: "legalAgreement",
          name: "legalAgreement",
          errorMessage: err[0],
          fieldset: {
            legend: {
              text: pageHeading,
              isPageHeading: true,
              classes: "govuk-fieldset__legend--l"
            }
          },
          hint: {
            html: "You will need to secure your site with either a <a href='https://www.gov.uk/guidance/planning-obligations'>planning obligation (S106 agreement)</a> or a <a href='https://www.gov.uk/guidance/getting-and-using-a-conservation-covenant-agreement'>conservation covenant</a>, for at least 30 years."
          },
          items: [
            {
              value: "yes",
              text: "Yes",
              checked: checked(legalAgreement, "yes")
            },
            {
              value: "no",
              text: "No",
              checked: checked(legalAgreement, "no")
            },
            {
              value: "not sure",
              text: "I'm not sure",
              checked: checked(legalAgreement, "not sure")
            }
          ]
        }) }}

      {{ govukButton({
        text: "Continue",
        attributes: {
          "data-testid": "continue"
        }
      }) }}
      </div>
    </div>
  </div>
{% endblock %}
