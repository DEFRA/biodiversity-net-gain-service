{% extends 'form-layout.html' %}

{% set showSaveLink = true %}
{% set pageHeading = "Check the land ownership details" %}

{% block formContent %}
    <div class="govuk-body">
        {% if err %}
            {% include "errorbanner.html" %}
        {% endif %}
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
                {{ govukFieldset({
                    legend: {
                        text: pageHeading,
                        classes: "govuk-fieldset__legend--l",
                        isPageHeading: true
                    }
                }) }}
                {% if hideConsent == true %}
                    {% set consentVisible = 'govuk-visually-hidden' %}
                {% endif %}
                <form method="post">
                    {{ govukSummaryList({
                        rows: [
                            {
                                key: {
                                    text: 'Proof of land ownership file uploaded'
                                },
                                value: {
                                    html: "<span data-testid=\"proof-land-ownership-file-name-value\">" + fileName + "</span>"
                                },
                                actions: {
                                    items: [
                                        {
                                            href: '/land/check-ownership-proof-file',
                                            text: 'Change',
                                            attributes: {
                                                id: "check-ownership-proof-file"
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                key: {
                                    text: 'Landowner name'
                                },
                                value: {
                                    html: "<span data-testid=\"land-owner-names-value\">" + listArray(landownerNames) + "</span>"
                                },
                                actions: {
                                    items: [
                                        {
                                            href: '/land/registered-landowner',
                                            text: 'Change',
                                            attributes: {
                                                id: "registered-landowner"
                                            }
                                        }
                                    ]
                                }
                            },
                            {
                                classes: consentVisible,
                                key: {
                                    text: 'Landowner consent'
                                },
                                value: {
                                    html: "<span data-testid=\"land-owner-consent-value\">" + boolToYesNo(consent) + "</span>"
                                },
                                actions: {
                                    items: [
                                        {
                                            href: '/land/landowner-consent',
                                            text: 'Change',
                                            attributes: {
                                                id: "landowner-consent"
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }) }}
                    {{ govukButton({
                        text: 'Continue',
                        attributes: {
                            id: "continue",
                            "data-testid": "continue"
                        }
                    }) }}
                </form>
            </div>
        </div>
    </div>
{% endblock %}
