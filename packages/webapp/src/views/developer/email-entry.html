{% extends 'developer-form-layout.html' %}

{% block header %}
<link href="{{ assetPath }}/stylesheets/pages/email-entry.css" rel="stylesheet" />
{% endblock %}

{% set pageHeading = "Enter additional email addresses" %}

{% block formContent %}
    <div class="govuk-body" data-module="moj-add-another">
        {% if err %}
            {% include "errorbanner.html" %}
        {% endif %}
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-two-thirds">
                <h1 class="govuk-label-wrapper">
                    <label class="govuk-label govuk-label--l" for="emailAddress">
                      {{ pageHeading }}
                    </label>
                </h1>

                <div id="email-hint" class="govuk-hint govuk-!-margin-top-6">
                    <p>Enter email addresses for anyone in your organisation who needs to be notified about what you're recording.</p>
                    <p>For example, the person who will need to add proof of registration to the Gain Plan you submit to the local planning authority.</p>
                </div>

                {% call govukFieldset({
                    classes: 'moj-add-another__item',
                    legend: {
                    text: 'Email',
                    classes: 'moj-add-another__title govuk-fieldset__legend--m',
                    isPageHeading: false
                    }
                }) %}
            
                {{ govukInput({
                    id: "emailAddress[0][email]",
                    name: "emailAddress[0][email]",
                    errorMessage: err[0],
                    autocomplete: "emailAddress",
                    spellcheck: false,
                    label: {
                        text: "Email address",
                        classes: "govuk-label"
                    },
                    attributes: {
                        'data-name': 'emailAddress[%index%][email]',
                        'data-id': 'emailAddress[%index%][email]'
                    }
                }) }}
                {% endcall %}
              
                <div class="moj-button-action">
                    {{ govukButton({
                        type: "button",
                        text: 'Add another email address',
                        classes: 'govuk-button--secondary moj-add-another__add-button govuk-!-margin-bottom-4'
                    }) }}
                </div>
                {{ govukButton({
                    text: "Continue",
                    attributes: {
                        id: "continue"
                    }
                }) }}
            </div>
        </div>
    </div>
    <!-- <script src="{{ assetPath }}/moj/components/add-another/add-another.js"></script> -->
{% endblock %}
