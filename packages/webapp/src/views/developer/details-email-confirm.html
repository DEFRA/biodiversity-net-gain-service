
{% extends 'developer-form-layout.html' %}

{% set pageHeading = "Is this email address correct?" %}

{% block formContent %}
<div class="govuk-body">
    {% if err %}
        {% include "errorbanner.html" %}
    {% endif %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            {% set emailHtml %}
                {% set errorMessage = {text: errorMessage} if errorMessage else null %}
                {{ govukInput({
                    id: "newEmailAddress",
                    name: "newEmailAddress",
                    type: "email",
                    spellcheck: false,
                    classes: "govuk-!-width-one-half",
                    autocomplete: "newEmailAddress",
                    value: newEmailAddress,
                    label: {
                        text: "Email address"
                    },
                    errorMessage: errorMessage
                }) }}
            {% endset -%}
            {{ govukRadios({
                idPrefix: "correctEmail",
                name: "correctEmail",
                id: id,
                fieldset: {
                    legend: {
                        text: pageHeading,
                        isPageHeading: true,
                        classes: "govuk-fieldset__legend--l"
                    }
                },
                hint: {
                    text: emailAddress,
                    classes: "govuk-hint govuk-!-font-size-27 app-text-colour wrap-text"
                },
                errorMessage: err[0],
                items: [
                    {
                        value: "yes",
                        text: "Yes, use this email address",
                        id: "email-correct-yes",
                        checked: correctEmail == "yes"
                    },
                    {
                        value: "no",
                        text: "No, I need to change it",
                        id: "email-correct-no",
                        checked: correctEmail == "no",
                        conditional: {
                            html: emailHtml
                        }
                    }
                ]
            }) }}
            {{ govukButton({
                text: "Continue",
                attributes: {
                    id: "continue"
                }
            }) }}
        </div>
    </div>
</div>
{% endblock %}
