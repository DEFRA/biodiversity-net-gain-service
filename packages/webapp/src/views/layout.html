{% extends "govuk/template.njk" %}

{% from "govuk/components/accordion/macro.njk"           import govukAccordion %}
{% from "govuk/components/back-link/macro.njk"           import govukBackLink %}
{% from "govuk/components/breadcrumbs/macro.njk"         import govukBreadcrumbs %}
{% from "govuk/components/button/macro.njk"              import govukButton %}
{% from "govuk/components/character-count/macro.njk"     import govukCharacterCount %}
{% from "govuk/components/checkboxes/macro.njk"          import govukCheckboxes %}
{% from "govuk/components/cookie-banner/macro.njk"       import govukCookieBanner %}
{% from "govuk/components/date-input/macro.njk"          import govukDateInput %}
{% from "govuk/components/details/macro.njk"             import govukDetails %}
{% from "govuk/components/error-message/macro.njk"       import govukErrorMessage %}
{% from "govuk/components/error-summary/macro.njk"       import govukErrorSummary %}
{% from "govuk/components/fieldset/macro.njk"            import govukFieldset %}
{% from "govuk/components/file-upload/macro.njk"         import govukFileUpload %}
{% from "govuk/components/footer/macro.njk"              import govukFooter %}
{% from "govuk/components/input/macro.njk"               import govukInput %}
{% from "govuk/components/inset-text/macro.njk"          import govukInsetText %}
{% from "govuk/components/notification-banner/macro.njk" import govukNotificationBanner %}
{% from "govuk/components/panel/macro.njk"               import govukPanel %}
{% from "govuk/components/phase-banner/macro.njk"        import govukPhaseBanner %}
{% from "govuk/components/radios/macro.njk"              import govukRadios %}
{% from "govuk/components/select/macro.njk"              import govukSelect %}
{% from "govuk/components/skip-link/macro.njk"           import govukSkipLink %}
{% from "govuk/components/summary-list/macro.njk"        import govukSummaryList %}
{% from "govuk/components/table/macro.njk"               import govukTable %}
{% from "govuk/components/tabs/macro.njk"                import govukTabs %}
{% from "govuk/components/tag/macro.njk"                 import govukTag %}
{% from "govuk/components/textarea/macro.njk"            import govukTextarea %}
{% from "govuk/components/warning-text/macro.njk"        import govukWarningText %}

{% block head %}
  {% if googleTagmanagerID %}
    <script type="text/javascript" src="{{ assetPath }}/js/tagmanager_head.js"></script>
  {% endif %}
  <!--[if !IE 8]><!-->
    <link href="{{ assetPath }}/stylesheets/application.css" rel="stylesheet" />
  <!--<![endif]-->

  {# For Internet Explorer 8, you need to compile specific stylesheet #}
  {# see https://github.com/alphagov/govuk-frontend/blob/master/docs/installation/supporting-internet-explorer-8.md #}
  <!--[if IE 8]>
    <link href="{{ assetPath }}/govuk-frontend/all-ie8.css" rel="stylesheet" />
  <![endif]-->

  {# For older browsers to allow them to recognise HTML5 elements such as `<header>` #}
  <!--[if lt IE 9]>
    <script src="/html5-shiv/html5shiv.js"></script>
  <![endif]-->

  <!-- Application version: {{ applicationVersion }} -->
{% endblock %}

{% block bodyStart %}
  {% if googleTagmanagerID %}
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe title="Google Tag Manager" src="https://www.googletagmanager.com/ns.html?id={{ googleTagmanagerID }}" height="0" width="0" style="display:none;visibility:hidden">
      </iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    <script type= "text/javascript" src="{{ assetPath }}/js/tagmanager_datalayer.js"></script>
  {% endif %}
  {% if showCookieBanner %}
    {% include "cookie-banner.html" %}
  {% endif %}
{% endblock %}

{% block header %}
  {{ govukHeader({
    homepageUrl: "/",
    containerClasses: "govuk-width-container",
    serviceName: serviceName,
    serviceUrl: "/"
  }) }}
{% endblock %}

{% block pageTitle %}
  {{ pageHeading }} {{ titleSuffix }}
{% endblock %}

{% block beforeContent %}
  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: 'This is a new service â€“ <a class="govuk-link" href="#">give feedback</a> to help us to improve it.'
  }) }}
  <div class="app-save__wrapper">
    {% if not hideBackLink %}
    <div class="defra-js-show" hidden>
      {{ govukBackLink({
        text: "Back",
        href: "javascript: window.history.go(-1)"
      }) }}
    </div>
    {% endif %}
    {% if showSaveLink %}
      <div class="app-save">
        <p><a class="govuk-link govuk-link--no-visited-state" href="/land/registration-saved">Save and return later</a></p>
      </div>
    {% endif %}
  </div>  
{% endblock %}

{% block content %}
  <h1 class="govuk-heading-xl">Default page template</h1>
{% endblock %}

{% block footer %}
  {% include "footer.html" %}
{% endblock %}

{% block bodyEnd %}
  {# Run JavaScript at end of the <body>, to avoid blocking the initial render. #}
  <script src="{{ assetPath }}/jquery.js"></script>
  <script src="{{ assetPath }}/all.js"></script>
  <script src="{{ assetPath }}/moj/all.js"></script>
  <script>window.GOVUKFrontend.initAll()</script>
  <script>window.MOJFrontend.initAll()</script>
  <script src="{{ assetPath }}/js/core.js"></script>
{% endblock %}
