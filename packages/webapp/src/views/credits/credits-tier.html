{% extends 'layout.html' %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/error-message/macro.njk" import govukErrorMessage %}

{% set serviceName = "Purchase statutory biodiversity credits" %}
{% set pageHeading = "Add statutory biodiversity credits" %}
{% set hideBackLink = true %}

{% set creditText = "Enter number of credits" %}
{% set customErr = errorMessages['custom-err'] %}

{% block content %}
  {% if err %}
    {{ govukErrorSummary({
      titleText: "There is a problem",
      errorList: err
    }) }}
  {% endif %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">Add statutory biodiversity credit units</h1>
      <p class="govuk-body">Enter the number of credits from the 'unit shortfall summary' tab in the Metric into the relevant tier box below. You can choose more than one tier.</p>
      <p class="govuk-hint">The number of credits must be entered up to 2 decimal places, like 23.75</p>

      <form method="POST" autocomplete="off" novalidate="novalidate">
      <div class="govuk-form-group {{ 'govuk-form-group--error' if customErr }}">
        <div class="govuk-grid-row">
          <div class="govuk-grid-column-one-third">
            <span class="govuk-caption-m">Area</span>
            <h2 class="govuk-heading-l">Tier A</h2>
          </div>
          <div class="govuk-grid-column-one-third">
            <span class="govuk-caption-m">Headgerow</span>
            <h2 class="govuk-heading-l">Tier H</h2>
          </div>
          <div class="govuk-grid-column-one-third">
            <span class="govuk-caption-m">Watercourse</span>
            <h2 class="govuk-heading-l">Tier W</h2>
          </div>
        </div>

        {% if customErr %}
        {{ govukErrorMessage({
          text: customErr.text,
          id: "custom-err"
        }) }}
        {% endif %}

        <div class="govuk-grid-row">
          <div class="govuk-grid-column-one-third">
            {{ govukInput({
              id: "a1-units",
              name: "a1",
              value: inputValues.a1,
              classes: "govuk-input--width-5",
              label: {
                text: "A1",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.a1
            }) }}
            {{ govukInput({
              id: "a2-units",
              name: "a2",
              value: inputValues.a2,
              classes: "govuk-input--width-5",
              label: {
                text: "A2",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.a2
            }) }}
            {{ govukInput({
              id: "a3-units",
              name: "a3",
              value: inputValues.a3,
              classes: "govuk-input--width-5",
              label: {
                text: "A3",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.a3
            }) }}
            {{ govukInput({
              id: "a4-units",
              name: "a4",
              value: inputValues.a4,
              classes: "govuk-input--width-5",
              label: {
                text: "A4",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.a4
            }) }}
            {{ govukInput({
              id: "a5-units",
              name: "a5",
              value: inputValues.a5,
              classes: "govuk-input--width-5",
              label: {
                text: "A5",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.a5
            }) }}
          </div>

          <div class="govuk-grid-column-one-third">
            <div class="{{ 'govuk-form-group--error' if customErr }}">
            {{ govukInput({
              id: "h-units",
              name: "h",
              value: inputValues.h,
              classes: "govuk-input--width-5",
              label: {
                text: "H",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.h
            }) }}
            </div>
          </div>


          <div class="govuk-grid-column-one-third">
            <div class="{{ 'govuk-form-group--error' if customErr }}">
            {{ govukInput({
              id: "w-units",
              name: "w",
              value: inputValues.w,
              classes: "govuk-input--width-5",
              label: {
                text: "W",
                classes: "govuk-!-font-weight-bold"
              },
              hint: {
                text: creditText
              },
              errorMessage: errorMessages.w
            }) }}
            </div>
          </div>
        </div>
      </div>
        {{ govukButton({
          text: "Save and Continue"
        }) }}
      </form>
    </div>
  </div>
{% endblock %}
